<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>07. ESTILOS - Boas Práticas React</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "07. ESTILOS";
    var mkdocs_page_input_path = "07. Estilos/README.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Boas Práticas React</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../01.%20Como%20se%20manter%20atualizado/">01. COMO SE MANTER ATUALIZADO</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../02.%20Breve%20historia%20do%20react/">02. BREVE HISTORIA DO REACT</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../03.%20Componentes/">03. COMPONENTES</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../04.%20Estado/">04. ESTADO</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">07. ESTILOS</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#inline-styles">Inline Styles</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#folhas-de-estilo">Folhas de estilo</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pre-processadores">Pré-processadores</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#css-modules">CSS Modules</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#css-in-js">CSS-in-JS</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#styled-components">Styled-Components</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../09.%20Atomic%20Design/">09. ATOMIC DESIGN</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../10.%20Testes%20unitarios/">10. TESTES UNITARIOS</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Boas Práticas React</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>07. ESTILOS</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="estilos">Estilos</h1>
<p>Atualmente a biblioteca React não tem nenhuma opinião sobre como estilos são definidos. Você pode criar estilos da maneira que achar melhor.</p>
<p>React aceita tanto inline styles, quanto adicionando classes e os famosos CSS-in-JS.</p>
<h2 id="inline-styles">Inline Styles</h2>
<p>Para se usar CSS inline com React (JSX), deve se usar um objeto ao invés de string como no HTML puro.</p>
<p>Os atributos precisam estar no padrão camelCase e separados por virgula. Exatamente como num objeto JS comum.</p>
<pre><code class="language-js">function ColorBlock() {
  const style = {
    margin: &quot;20px&quot;,
    width: &quot;250px&quot;,
    height: &quot;250px&quot;,
    backgroundColor: &quot;yellow&quot;,
  };
  return &lt;div style={styles}&gt;...&lt;/div&gt;;
}
</code></pre>
<pre><code class="language-js">function ColorBlock() {
  return (
    &lt;div style={{ backgroundColor: &quot;red&quot;, width: &quot;100px&quot;, height: &quot;100px&quot; }}&gt;
      ...
    &lt;/div&gt;
  );
}
</code></pre>
<pre><code class="language-js">const Button = ({ green }) =&gt; {
  return (
    &lt;button
      style={{
        width: 200,
        height: 50,
        backgroundColor: green ? &quot;green&quot; : &quot;red&quot;,
      }}
    &gt;
      My Button
    &lt;/button&gt;
  );
};
</code></pre>
<p><strong>Ressalvas:</strong></p>
<ul>
<li>
<p>Não é possível utilizar pseudo-selectors, pseudo-elements, media queries, keyframe animations, entre outros.</p>
</li>
<li>
<p>Dificulta a reutilização de código (Escalabilidade).</p>
</li>
<li>
<p>Dificulta a utilização de estilos baseados em props.</p>
</li>
<li>
<p>Impossibilita de se usar Media queries</p>
</li>
<li>
<p>Não é performático, uma vez que o tamanho da DOM cresce proporcional a quantidade de elementos, mesmo que eles sejam repedidos.</p>
</li>
<li>
<p>Com uso de SSR, a cada vez que a página é renderizada os estilos inline são baixados, uma vez que não há cache para o HTML gerado.</p>
</li>
<li>
<p><a href="https://www.sderosiaux.com/articles/2015/08/17/react-inline-styles-vs-css-stupid-benchmark/">Estilos inline são mais demorados para serem convertidos da VDOM para a DOM</a> e levam mais tempo para o Browser conseguir tabalhar com eles também.</p>
</li>
</ul>
<h2 id="folhas-de-estilo">Folhas de estilo</h2>
<p>Essa é a forma mais tradicional de usar CSS. Podemos escrever nossa folha de estilo e importar para nosso componente.</p>
<p>Não precisa de nenhuma configuração adicional.</p>
<pre><code class="language-css">/* style.css */
.container {
  width: 100px;
  height: 100px;
  background-color: red;
}

.container:hover {
  background-color: green;
}
</code></pre>
<pre><code class="language-js">import &quot;./style.css&quot;;

function ColorBlock() {
  return &lt;div className=&quot;container&quot;&gt;...&lt;/div&gt;;
}
</code></pre>
<p><strong>Ressalvas:</strong></p>
<ul>
<li>
<p>Namespaces são globais e pode haver choque de nomes. Precisa usar uma estratégia de <em>naming</em> tipo BEM (Block Element Modifier).</p>
</li>
<li>
<p>Algumas features avançadas do CSS não estarão disponíveis.</p>
</li>
<li>
<p>Utilização de estilos dinâmicos baseado em Props envolve a criação de mais classes CSS e complexidade maior para fazer o gerenciamento.</p>
</li>
<li>
<p>Dificil de refatorar e elimiar código.</p>
</li>
</ul>
<p>Dentre outros problemas descritos <a href="https://speakerdeck.com/vjeux/react-css-in-js?slide=2">neste slide</a> de <a href="http://blog.vjeux.com/">Christopher Chedeau</a>, um dos engenheiros do Facebook.</p>
<h2 id="pre-processadores">Pré-processadores</h2>
<p>Pré-processadores CSS (SASS/LESS) são programas que recebem textos ou códigos no nosso caso e efetuam conversões lexicas, ou seja, entra com um código e troca por outro, podendo incluir troca de palavras, inclusão de código condicional e até mesmo inclusão de outros arquivos.</p>
<p>No caso do SASS, podemos criar variáveis, condicionais, repetição, imports e até mesmo funções e extender outros estilos para evitar duplicação de código.</p>
<p>É possível fazer Nesting (aninhamento) de estilos.</p>
<pre><code class="language-scss">// variables
$red = #f00;
$green = #00aa00
</code></pre>
<pre><code class="language-scss">// styles.scss

@import &quot;variables&quot;;

.container {
  width: 100px;
  height: 100px;
  background-color: $red;

  &amp;:hover {
    background-color: $green;
  }

  &amp;.button {
    ...
  }
}
</code></pre>
<pre><code class="language-js">import &quot;./style.scss&quot;;

function ColorBlock() {
  return (
    &lt;div className=&quot;container&quot;&gt;
      ...
      &lt;button&gt;...&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>Utilizando dessa forma ainda teremos problemas com colisão de nomes, mas podemos trabalhar com módulos CSS no SASS e para isso devemos usar a extensão <code>.module.scss</code>.</p>
<pre><code class="language-scss">// styles.module.scss

@import &quot;variables&quot;;

.container {
  width: 100px;
  height: 100px;
  background-color: $red;

  &amp;:hover {
    background-color: $green;
  }

  &amp;.button {
    ...
  }
}
</code></pre>
<pre><code class="language-js">import styles from &quot;./style.module.scss&quot;;

function ColorBlock() {
  return (
    &lt;div className=&quot;container&quot;&gt;
      ...
      &lt;button&gt;...&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p><strong>Ressalvas:</strong></p>
<ul>
<li>
<p>Curva de aprendizagem.</p>
</li>
<li>
<p>Pode ser difícil de debugar.</p>
</li>
</ul>
<h2 id="css-modules">CSS Modules</h2>
<p>CSS Modules é a evolução das folhas de estilo. Possui escopo local, ou seja, não teremos problemas com colisão de nomes. Também podemos trabalhar com variáveis.</p>
<p>O nome do arquivo precisa conter a extensão <code>.module.css</code> para que o bundler reconheça como um módulo.</p>
<p>A escrita do CSS continua a mesma.</p>
<pre><code class="language-css">/* style.module.css */
--red: #e83f5b;
--green: #4cd62b;

.container {
  width: 100px;
  height: 100;
  background-color: var(--red);
}

.container:hover {
  background-color: var(--green);
}

.container button {
  ...;
}
</code></pre>
<pre><code class="language-js">import styles from &quot;./style.module.css&quot;;

function ColorBlock() {
  return (
    &lt;div className=&quot;container&quot;&gt;
      ...
      &lt;button&gt;...&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p><strong>Ressalvas:</strong></p>
<ul>
<li>
<p>Ainda é complicado utilizar estilos dinâmicos baseado em Props.</p>
</li>
<li>
<p>Ainda não é possível fazer Nesting de estilos.</p>
</li>
</ul>
<h2 id="css-in-js">CSS-in-JS</h2>
<p>CSS-in-JS é uma solução como o próprio nome já diz: Escrever CSS com JS.</p>
<p>Com essa solução podemos aproveitar todos os métodos atuais de componentização em JavaScript para criar componentes performáticos.</p>
<h3 id="styled-components">Styled-Components</h3>
<p><a href="https://styled-components.com/">Styled-Components</a> é uma das bibliotecas mais populares para React no assunto de CSS-in-JS. A ideia é criar componentes como já utilizamos no React, porém são componentes estilizados (ou de estilo).</p>
<p>Segundo a documentação oficial Styled-Components vem com as seguintes vantagens:</p>
<ul>
<li>
<p>Critical CSS Automático: styled-components injeta somente os estilos e nada mais nos componentes automáticamente. Combinado com <em>code splitting</em> significa que somente vai carregar o que for necessário para montar o componente.</p>
</li>
<li>
<p>Sem colisão de classes: styled-components gera nomes de classes únicas para os estilos. Nunca vamos precisar preocupar com duplicação, sobreposição ou erros de digitação.</p>
</li>
<li>
<p>Remoção de CSS: Como criamos estilos para componentes e não baseado em classes, fica fácil saber o que deletar. E quando deletamos um componente deletamos todos seu estilo.</p>
</li>
<li>
<p>Estilo dinâmico simples: Podemos criar estilos dinâmicos baseados nas props ou em temas de forma fácil, sem usar um monte de classes.</p>
</li>
<li>
<p>Manutenção sem dor: Como os estilos tem escopo do componente, não vamos mais precisar ficar "caçando" em vários arquivos qual estaria afetando o estilo.</p>
</li>
<li>
<p>Vendor prefixing automático: Você escreve seu CSS no melhor padrão do mercado e pronto, os componentes cuidam para fornecer suporte para browsers antigos.</p>
</li>
</ul>
<p>Vejamos um exemplo:</p>
<pre><code class="language-js">// style.js
import styled from &quot;styled-components&quot;;

export const Container = styled.div`
  width: 100px;
  height: 100px;
  background-color: red;

  &amp;:hover {
    background-color: green;
  }

  &amp;.button {
    ...
  }
`;
</code></pre>
<pre><code class="language-js">import { Container } from &quot;./style&quot;;

function ColorBlock() {
  return (
    &lt;Container&gt;
      ...
      &lt;button&gt;...&lt;/button&gt;
    &lt;/Container&gt;
  );
}
</code></pre>
<p>E com estilos dinâmicos:</p>
<pre><code class="language-js">// Button.styles.js
import styled from &quot;styled-component&quot;;

export const StyledButton = styled.button`
  width: 200px,
  height: 50px,
  backgroundColor: ${(props) =&gt; (props.bgColor ? props.bgColor : &quot;red&quot;)},
`;
</code></pre>
<pre><code class="language-js">import { StyledButton } from &quot;./Button.styles.js&quot;;
const Button = ({ bgColor }) =&gt; {
  return &lt;StyledButton bgColor={bgColor}&gt;My Button&lt;/StyledButton&gt;;
};
</code></pre>
<p>Essa biblioteca ainda nos permite usar alguns recursos para melhor aproveitamento dos componentes gerados. Vamos supor que estamos construindo um Design System ou queremos reduzir a duplicação de código para os estilos.</p>
<p>Dado que temos dois componentes, um de texto que vamos chamar de Text e um de container que vamos chamar de Box, segue:</p>
<pre><code class="language-js">// Text.js
import styled from &quot;styled-components&quot;;

const Text = styled.p`
  font-size: 1rem;
  color: black;
`;

export default Text;
</code></pre>
<pre><code class="language-js">// Container.styles.js
import styled from &quot;styled-components&quot;;

const Container = styled.div`
  width: ${({ width }) =&gt; width};
  height: ${({ height }) =&gt; height};
  background-color: ${({ bgColor }) =&gt; bgColor};
  border: ${({ border }) =&gt; border};
`;
</code></pre>
<pre><code class="language-js">// Box.js
import { Container } from &quot;./Container.styles&quot;;

export default function Box({ width, height, bgColor, border, children }) {
  return (
    &lt;Container width={width} height={height} bgColor={bgColor} border={border}&gt;
      {children}
    &lt;/Container&gt;
  );
}
</code></pre>
<p>E agora precisamos ter uma página onde vamos ter um h1 e um form. Styled-Component nos dá uma propriedade polifórmica chamada <code>as</code> onde podemos mudar o tipo do elemento HTML e trocar o Text que é uma tag <code>p</code> para <code>h1</code> e o Box de <code>div</code> para <code>form</code>:</p>
<pre><code class="language-js">// Form.js
import Box from &quot;./Box&quot;;
import Text from &quot;./Text&quot;;

export default function Form() {
  return (
    &lt;Box as=&quot;from&quot; width=&quot;100%&quot; height=&quot;100%&quot; bgColor=&quot;transparent&quot; border=&quot;0&quot;&gt;
      &lt;Text as=&quot;h1&quot;&gt;Teremos uma tag form com um h1 dentro.&lt;/Text&gt;
    &lt;/Box&gt;
  );
}
</code></pre>
<p>Ainda podemos extender o estilo de algum componente já criado e criar um novo:</p>
<pre><code class="language-js">import styled from &quot;styled-components&quot;;
import Box from &quot;./Box&quot;;

export const StyledBox = styled(Box)`
  transition: border-color 300ms;
  &amp;:hover {
    border: 1px dashed #999;
  }
`;
</code></pre>
<p>Dessa forma extendemos o componente Box e adicionamos a ele novas propriedades.</p>
<p>É importante ressaltar que para esse tipo de utilização em componentes React que retornam um componente Styled-Components, como é o caso do Box, é necessário adicionar uma propriedade chamada className no componente Box para que os estilos sejam corretamente aplicados:</p>
<pre><code class="language-js">// Box.js
import { Container } from &quot;./Container.styles&quot;;

export default function Box({
  width,
  height,
  bgColor,
  border,
  children,
  className,
}) {
  return (
    &lt;Container
      className={className}
      width={width}
      height={height}
      bgColor={bgColor}
      border={border}
    &gt;
      {children}
    &lt;/Container&gt;
  );
}
</code></pre>
<p>A <a href="https://styled-components.com/docs">documentação da biblioteca</a> é extensa e bem completa. É um excelente ponto de partida.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../09.%20Atomic%20Design/" class="btn btn-neutral float-right" title="09. ATOMIC DESIGN">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../04.%20Estado/" class="btn btn-neutral" title="04. ESTADO"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../04.%20Estado/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../09.%20Atomic%20Design/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
